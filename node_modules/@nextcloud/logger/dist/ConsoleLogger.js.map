{"version":3,"file":"ConsoleLogger.js","names":["ConsoleLogger","context","message","level","msg","LogLevel","toUpperCase","app","Debug","console","debug","formatMessage","Info","info","Warn","warn","Error","error","Fatal","log","Object","assign","buildConsoleLogger"],"sources":["../lib/ConsoleLogger.ts"],"sourcesContent":["import { ILogger, LogLevel } from './contracts'\n\nexport class ConsoleLogger implements ILogger {\n\n    private context: any\n\n    constructor(context: any) {\n        this.context = context\n    }\n\n    private formatMessage(message: string, level: LogLevel, context: any): string {\n        let msg = '[' + LogLevel[level].toUpperCase() + ']'\n        if (context && context.app) {\n            msg += ' ' + context.app + ': '\n        }\n        return msg + message\n    }\n\n    log(level: LogLevel, message: string, context: object) {\n\tif (level < this.context?.level) return;\n        switch (level) {\n            case LogLevel.Debug:\n                console.debug(this.formatMessage(message, LogLevel.Debug, context), context)\n                break\n            case LogLevel.Info:\n                console.info(this.formatMessage(message, LogLevel.Info, context), context)\n                break\n            case LogLevel.Warn:\n                console.warn(this.formatMessage(message, LogLevel.Warn, context), context)\n                break\n            case LogLevel.Error:\n                console.error(this.formatMessage(message, LogLevel.Error, context), context)\n                break\n            case LogLevel.Fatal:\n            default:\n                console.error(this.formatMessage(message, LogLevel.Fatal, context), context)\n                break\n        }\n    }\n\n    debug(message: string, context?: object): void {\n        this.log(LogLevel.Debug, message, Object.assign({}, this.context, context))\n    }\n\n    info(message: string, context?: object): void {\n        this.log(LogLevel.Info, message, Object.assign({}, this.context, context))\n    }\n\n    warn(message: string, context?: object): void {\n        this.log(LogLevel.Warn, message, Object.assign({}, this.context, context))\n    }\n\n    error(message: string, context?: object): void {\n        this.log(LogLevel.Error, message, Object.assign({}, this.context, context))\n    }\n\n    fatal(message: string, context?: object): void {\n        this.log(LogLevel.Fatal, message, Object.assign({}, this.context, context))\n    }\n\n}\n\nexport function buildConsoleLogger(context: any): ILogger {\n    return new ConsoleLogger(context)\n}\n"],"mappings":"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"}