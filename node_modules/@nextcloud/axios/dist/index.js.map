{"version":3,"file":"index.js","names":["client","Axios","create","headers","requesttoken","getRequestToken","cancelableClient","Object","assign","CancelToken","isCancel","onRequestTokenUpdate","token","defaults"],"sources":["../lib/index.ts"],"sourcesContent":["import Axios, { AxiosInstance, CancelTokenStatic } from 'axios'\nimport { getRequestToken, onRequestTokenUpdate } from '@nextcloud/auth'\n\ninterface CancelableAxiosInstance extends AxiosInstance {\n\tCancelToken: CancelTokenStatic\n\tisCancel(value: any): boolean\n}\n\nconst client: any = Axios.create({\n\theaders: {\n\t\trequesttoken: getRequestToken() ?? ''\n\t}\n})\nconst cancelableClient: CancelableAxiosInstance = Object.assign(client, {\n\tCancelToken: Axios.CancelToken,\n\tisCancel: Axios.isCancel,\n})\n\nonRequestTokenUpdate(token => client.defaults.headers.requesttoken = token)\n\nexport default cancelableClient\n"],"mappings":";;;;;;;;;;;AAAA;;AACA;;;;;;AAOA,IAAMA,MAAW,GAAGC,cAAA,CAAMC,MAAN,CAAa;EAChCC,OAAO,EAAE;IACRC,YAAY,sBAAE,IAAAC,qBAAA,GAAF,+DAAuB;EAD3B;AADuB,CAAb,CAApB;;AAKA,IAAMC,gBAAyC,GAAGC,MAAM,CAACC,MAAP,CAAcR,MAAd,EAAsB;EACvES,WAAW,EAAER,cAAA,CAAMQ,WADoD;EAEvEC,QAAQ,EAAET,cAAA,CAAMS;AAFuD,CAAtB,CAAlD;AAKA,IAAAC,0BAAA,EAAqB,UAAAC,KAAK;EAAA,OAAIZ,MAAM,CAACa,QAAP,CAAgBV,OAAhB,CAAwBC,YAAxB,GAAuCQ,KAA3C;AAAA,CAA1B;eAEeN,gB"}