{"version":3,"file":"index.js","names":["getLocale","document","documentElement","dataset","locale","getCanonicalLocale","replace","getLanguage","lang","translate","app","text","vars","count","options","OC","console","warn","L10N","translatePlural","textSingular","textPlural","getFirstDay","window","firstDay","getDayNames","dayNames","getDayNamesShort","dayNamesShort","getDayNamesMin","dayNamesMin","getMonthNames","monthNames","getMonthNamesShort","monthNamesShort"],"sources":["../lib/index.ts"],"sourcesContent":["/// <reference types=\"@nextcloud/typings\" />\n\ndeclare var OC: Nextcloud.v16.OC | Nextcloud.v17.OC | Nextcloud.v18.OC | Nextcloud.v19.OC |\n                Nextcloud.v20.OC | Nextcloud.v21.OC | Nextcloud.v22.OC | Nextcloud.v23.OC |\n                Nextcloud.v24.OC;\ndeclare var window: Nextcloud.v16.WindowWithGlobals | Nextcloud.v17.WindowWithGlobals | Nextcloud.v18.WindowWithGlobals | Nextcloud.v19.WindowWithGlobals;\n\n/**\n * Returns the user's locale\n */\nexport function getLocale(): string {\n    return document.documentElement.dataset.locale || 'en'\n}\n\nexport function getCanonicalLocale(): string {\n\treturn getLocale().replace(/_/g, '-')\n}\n\n/**\n * Returns the user's language\n */\nexport function getLanguage(): string {\n    return document.documentElement.lang || 'en'\n}\n\ninterface TranslationOptions {\n    escape?: boolean\n}\n\n/**\n * Translate a string\n *\n * @param {string} app the id of the app for which to translate the string\n * @param {string} text the string to translate\n * @param {object} vars map of placeholder key to value\n * @param {number} number to replace %n with\n * @param {object} [options] options object\n * @return {string}\n */\nexport function translate(app: string, text: string, vars?: object, count?: number, options?: TranslationOptions): string {\n    if (typeof OC === 'undefined') {\n        console.warn('No OC found')\n        return text\n    }\n\n    return OC.L10N.translate(app, text, vars, count, options)\n}\n\n/**\n * Translate a plural string\n *\n * @param {string} app the id of the app for which to translate the string\n * @param {string} textSingular the string to translate for exactly one object\n * @param {string} textPlural the string to translate for n objects\n * @param {number} count number to determine whether to use singular or plural\n * @param {Object} vars of placeholder key to value\n * @param {object} options options object\n * @return {string}\n */\n\nexport function translatePlural(app: string, textSingular: string, textPlural: string, count: number, vars?: object, options?: TranslationOptions): string {\n    if (typeof OC === 'undefined') {\n        console.warn('No OC found')\n        return textSingular\n    }\n\n    return OC.L10N.translatePlural(app, textSingular, textPlural, count, vars, options)\n}\n\n/**\n * Get the first day of the week\n *\n * @return {number}\n */\nexport function getFirstDay(): number {\n    if (typeof window.firstDay === 'undefined') {\n        console.warn('No firstDay found')\n        return 1\n    }\n\n    return window.firstDay\n}\n\n/**\n * Get a list of day names (full names)\n *\n * @return {string[]}\n */\nexport function getDayNames(): string[] {\n    if (typeof window.dayNames === 'undefined') {\n        console.warn('No dayNames found')\n        return ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\n    }\n\n    return window.dayNames\n}\n\n/**\n * Get a list of day names (short names)\n *\n * @return {string[]}\n */\nexport function getDayNamesShort(): string[] {\n    if (typeof window.dayNamesShort === 'undefined') {\n        console.warn('No dayNamesShort found')\n        return ['Sun.', 'Mon.', 'Tue.', 'Wed.', 'Thu.', 'Fri.', 'Sat.']\n    }\n\n    return window.dayNamesShort\n}\n\n/**\n * Get a list of day names (minified names)\n *\n * @return {string[]}\n */\nexport function getDayNamesMin(): string[] {\n    if (typeof window.dayNamesMin === 'undefined') {\n        console.warn('No dayNamesMin found')\n        return ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa']\n    }\n\n    return window.dayNamesMin\n}\n\n/**\n * Get a list of month names (full names)\n *\n * @return {string[]}\n */\nexport function getMonthNames(): string[] {\n    if (typeof window.monthNames === 'undefined') {\n        console.warn('No monthNames found')\n        return ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n    }\n\n    return window.monthNames\n}\n\n/**\n * Get a list of month names (short names)\n *\n * @return {string[]}\n */\nexport function getMonthNamesShort(): string[] {\n    if (typeof window.monthNamesShort === 'undefined') {\n        console.warn('No monthNamesShort found')\n        return ['Jan.', 'Feb.', 'Mar.', 'Apr.', 'May.', 'Jun.', 'Jul.', 'Aug.', 'Sep.', 'Oct.', 'Nov.', 'Dec.']\n    }\n\n    return window.monthNamesShort\n}\n"],"mappings":"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"}